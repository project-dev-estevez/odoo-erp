<odoo>
    <template id="hr_applicant_driving_test_report_document">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="applicant">
                <t t-call="web.external_layout">

                    <!-- Titulo y Fecha -->
                    <div class="row align-items-center mb-4">
                        <div class="col text-center">
                            <h2 class="mb-0 fw-bold fs-3">PRUEBA DE MANEJO</h2>
                        </div>

                        <div class="col-auto text-end">
                            <span class="fw-bold">FECHA:</span>
                            <span class="fw-bold">
                                <t t-esc="applicant.create_date.strftime('%d/%m/%Y')" />
                            </span>
                        </div>
                    </div>

                    <!-- Información principal -->
                    <table class="table table-sm table-borderless align-middle small">
                        <tbody>
                            <tr>
                                <td class="col-8">
                                    <strong>NOMBRE DEL EVALUADO:</strong>
                                    <span t-field="applicant.evaluator_id.name" />
                                </td>
                                <td class="col-4">
                                    <strong>TIPO DE LICENCIA:</strong>
                                    <span t-field="applicant.license_type" />
                                </td>
                            </tr>
                            <tr>
                                <td class="col-8">
                                    <strong>NOMBRE DEL APLICANTE:</strong>
                                    <span t-field="applicant.partner_name" />
                                </td>
                                <td class="col-4">
                                    <strong>No DE LICENCIA:</strong>
                                    <span t-field="applicant.license_number" />
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Aviso de Golpes e Infracciones -->
                    <table class="table table-sm table-borderless align-middle small">
                        <tbody>
                            <tr>
                                <td class="col-10 text-center fw-bold text-uppercase">
                                    SE DARA AVISO AL USUARIO SE COBRARAN GOLPES E INFRACCIONES DE
                                    TRANSITO
                                </td>
                                <td class="col-2 text-center fw-bold">
                                    UNIDAD
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Sección 1 -->
                    <table class="table table-sm table-borderless align-middle small">
                        <thead>
                            <tr>
                                <th class="col-3 text-center">ASPECTOS DE EVALUACIÓN</th>
                                <th class="col-7 text-center">FACTOR EVALUADO</th>
                                <th class="col-2 text-center">EV</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!-- Rango de Evaluación -->
                                <td rowspan="6" class="text-center align-top">
                                    CONOCIMIENTO, INSPECCIÓN Y ADAPTACIÓN DEL VEHÍCULO
                                    <br /> RANGO DE EVALUACIÓN <br />
                                    <table class="table table-sm table-borderless align-middle small mb-0">
                                        <tbody>
                                            <tr><td>5</td><td>EXCELENTE</td></tr>
                                            <tr><td>4</td><td>BUENO</td></tr>
                                            <tr><td>3</td><td>REGULAR</td></tr>
                                            <tr><td>2</td><td>MALO</td></tr>
                                            <tr><td>1</td><td>DEFICIENTE</td></tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>Inspección de los niveles (refrigerante, líquido de frenos, aceite)</td>
                                <td class="text-center"><span t-field="applicant.fluid_levels_inspection" /></td>
                            </tr>
                            <tr>
                                <td>Inspección de estado físico de la batería</td>
                                <td class="text-center"><span t-field="applicant.battery_inspection" /></td>
                            </tr>
                            <tr>
                                <td>Verificación estado de llantas (estado y presión)</td>
                                <td class="text-center"><span t-field="applicant.tire_verification" /></td>
                            </tr>
                            <tr>
                                <td>Adaptación o graduación del cinturón de seguridad, espejos laterales, asiento y retrovisor</td>
                                <td class="text-center"><span t-field="applicant.safety_adaptation" /></td>
                            </tr>
                            <tr>
                                <td>Verificación del estado de las luces (altas, bajas, direccionales, freno de parqueo)</td>
                                <td class="text-center"><span t-field="applicant.lights_verification" /></td>
                            </tr>

                            <!-- Promedio -->
                            <tr>
                                <td class="fw-bold text-end">PROMEDIO:</td>
                                <td class="text-center">
                                    <t t-if="applicant.knowledge_average >= 4">
                                        <span class="badge text-success fw-bold"><t t-esc="applicant.knowledge_average" /></span>
                                    </t>
                                    <t t-elif="applicant.knowledge_average >= 3">
                                        <span class="badge text-warning fw-bold"><t t-esc="applicant.knowledge_average" /></span>
                                    </t>
                                    <t t-else="">
                                        <span class="badge text-danger fw-bold"><t t-esc="applicant.knowledge_average" /></span>
                                    </t>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Sección 2 -->
                    <table class="table table-sm table-borderless align-middle small">
                        <thead>
                            <tr>
                                <th class="col-3 text-center">ASPECTOS DE EVALUACIÓN</th>
                                <th class="col-7 text-center">FACTOR EVALUADO</th>
                                <th class="col-2 text-center">EV</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!-- Rango de Evaluación -->
                                <td rowspan="10" class="text-center align-top">
                                    DESTREZA Y HABILIDADES  EN EL MANEJO DE LOS MECANISMOS  DE CONTROL Y LA CONDUCCION  DEL VEHICULO
                                    <br /> RANGO DE EVALUACIÓN <br />
                                    <table class="table table-sm table-borderless align-middle small mb-0">
                                        <tbody>
                                            <tr><td>5</td><td>EXCELENTE</td></tr>
                                            <tr><td>4</td><td>BUENO</td></tr>
                                            <tr><td>3</td><td>REGULAR</td></tr>
                                            <tr><td>2</td><td>MALO</td></tr>
                                            <tr><td>1</td><td>DEFICIENTE</td></tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>Maniobra de encendido y arranque del vehiculo</td>
                                <td class="text-center"><span t-field="applicant.ignition_maneuver" /></td>
                            </tr>
                            <tr>
                                <td>Puesta en marcha en plano y en pendiente</td>
                                <td class="text-center"><span t-field="applicant.starting_movement" /></td>
                            </tr>
                            <tr>
                                <td>Avance en linea recta y con angulos</td>
                                <td class="text-center"><span t-field="applicant.starting_movement" /></td>
                            </tr>
                            <tr>
                                <td>Coordinacion  de maniobras aceleracion, freno, cambio y embrague</td>
                                <td class="text-center"><span t-field="applicant.maneuver_coordination" /></td>
                            </tr>
                            <tr>
                                <td>Aplicación de cambios ascendentes y descendentes</td>
                                <td class="text-center"><span t-field="applicant.gear_application" /></td>
                            </tr>
                            <tr>
                                <td>Descenso y ascenso en terreno inclinado</td>
                                <td class="text-center"><span t-field="applicant.inclined_terrain" /></td>
                            </tr>
                            <tr>
                                <td>Maniobra de circulacion y adelantamiento</td>
                                <td class="text-center"><span t-field="applicant.circulation_overtaking" /></td>
                            </tr>
                            <tr>
                                <td>Aplicación del embrague</td>
                                <td class="text-center"><span t-field="applicant.clutch_application" /></td>
                            </tr>
                            <tr>
                                <td>Aplicación de frenos y parqueo en reversa</td>
                                <td class="text-center"><span t-field="applicant.brake_parking" /></td>
                            </tr>
                            <tr>
                                <td>Ingreso al area de parqueo en reversa</td>
                                <td class="text-center"><span t-field="applicant.parking_entry" /></td>
                            </tr>

                            <!-- Promedio -->
                            <tr>
                                <td class="fw-bold text-end">PROMEDIO:</td>
                                <td class="text-center">
                                    <t t-if="applicant.skills_average >= 4">
                                        <span class="badge text-success fw-bold"><t t-esc="applicant.skills_average" /></span>
                                    </t>
                                    <t t-elif="applicant.skills_average >= 3">
                                        <span class="badge text-warning fw-bold"><t t-esc="applicant.skills_average" /></span>
                                    </t>
                                    <t t-else="">
                                        <span class="badge text-danger fw-bold"><t t-esc="applicant.skills_average" /></span>
                                    </t>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Sección 3 -->
                    <table class="table table-sm table-borderless align-middle small">
                        <thead>
                            <tr>
                                <th class="col-3 text-center">ASPECTOS DE EVALUACIÓN</th>
                                <th class="col-7 text-center">FACTOR EVALUADO</th>
                                <th class="col-2 text-center">EV</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <!-- Columna 1 con rowspan y rango -->
                                <td rowspan="6" class="text-center align-top">
                                    COMPORTAMIENTO DEL CONDUCTOR FRENTE AL TRÁNSITO, RESPETO POR LAS
                                    SEÑALES DE TRÁNSITO, POR EL PEATÓN, USO ADECUADO DE LA
                                    INFRAESTRUCTURA
                                    <br /> RANGO DE EVALUACIÓN <br />
                                    <table class="table table-sm table-borderless align-middle small mb-0">
                                        <tbody>
                                            <tr><td>5</td><td>EXCELENTE</td></tr>
                                            <tr><td>4</td><td>BUENO</td></tr>
                                            <tr><td>3</td><td>REGULAR</td></tr>
                                            <tr><td>2</td><td>MALO</td></tr>
                                            <tr><td>1</td><td>DEFICIENTE</td></tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>Empleo del reglamento de tránsito (señalizaciones y límites de velocidad)</td>
                                <td class="text-center"><span t-field="applicant.regulation_employment" /></td>
                            </tr>
                            <tr>
                                <td>Distancia de seguimiento de parada y lateral</td>
                                <td class="text-center"><span t-field="applicant.following_distance" /></td>
                            </tr>
                            <tr>
                                <td>Cambios de carril, de calzada y adelantamientos</td>
                                <td class="text-center"><span t-field="applicant.lane_changes" /></td>
                            </tr>
                            <tr>
                                <td>Uso adecuado de cambio de carriles</td>
                                <td class="text-center"><span t-field="applicant.lane_use" /></td>
                            </tr>
                            <tr>
                                <td>Manejo adecuado de las luces direccionales</td>
                                <td class="text-center"><span t-field="applicant.directional_handling" /></td>
                            </tr>

                            <!-- Promedio -->
                            <tr>
                                <td class="fw-bold text-end">PROMEDIO:</td>
                                <td class="text-center">
                                    <t t-if="applicant.behavior_average >= 4">
                                        <span class="badge text-success fw-bold"><t t-esc="applicant.behavior_average" /></span>
                                    </t>
                                    <t t-elif="applicant.behavior_average >= 3">
                                        <span class="badge text-warning fw-bold"><t t-esc="applicant.behavior_average" /></span>
                                    </t>
                                    <t t-else="">
                                        <span class="badge text-danger fw-bold"><t t-esc="applicant.behavior_average" /></span>
                                    </t>
                                </td>
                            </tr>
                        </tbody>
                    </table>


                    <!-- Resultados de examen -->
                    <table class="table table-sm table-borderless align-middle small mb-0">
                        <tbody>
                            <tr>
                            <td class="col-8">
                                <strong>RESULTADO EXAMEN TEÓRICO: 20% =</strong>
                            </td>
                            <td class="col-4 text-center fw-bold align-middle" rowspan="2">
                                CALIFICACIONES MENORES AL 70% DE LA EVALUACIÓN SERÁN REPROBATORIAS
                            </td>
                            </tr>
                            <tr>
                            <td>
                                <strong>RESULTADO EXAMEN PRÁCTICO: 80% =</strong>
                            </td>
                            </tr>
                        </tbody>
                    </table>


                    <!-- Observaciones y promedio -->
                    <table class="table table-sm table-borderless align-middle small mb-0 mt-2">
                        <tbody>
                            <tr>
                            <td class="col-8">
                                <strong>OBSERVACIONES:</strong>
                            </td>
                            <td class="col-2 text-center fw-bold">
                                PROMEDIO
                            </td>
                            <td class="col-2">
                                <!-- Aquí va el valor dinámico del promedio -->
                            </td>
                            </tr>
                        </tbody>
                    </table>


                </t>
            </t>
        </t>
    </template>
</odoo>