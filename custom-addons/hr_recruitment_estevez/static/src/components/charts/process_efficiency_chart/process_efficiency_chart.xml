<templates xml:space="preserve">
    <t t-name="hr_recruitment_estevez.ProcessEfficiencyChart" owl="1">
        
        <div class="w-100">
            
            <!-- 🔄 Loading -->
            <div t-if="state.isLoading" 
                 class="d-flex align-items-center justify-content-center"
                 style="min-height: 350px;">
                <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden">Cargando...</span>
                </div>
            </div>

            <!-- 📊 Gráfico con centro nativo -->
            <div t-else="" class="w-100">
                <!-- 📈 Chart con título y centro integrados -->
                <ChartRendererApex 
                    config="state.chartData" 
                    height="props.height || 400"
                />

                <!-- 💡 TIP -->
                <div class="mt-5">
                    <div class="alert alert-info border-0 shadow-sm">
                        <div class="d-flex align-items-start">
                            <i class="fa fa-lightbulb me-3 mt-1 text-primary"></i>
                            <div>
                                <strong>💡 Tips:</strong>
                                <div class="mt-1 small">
                                    <p class="mb-2">Pasa el cursor sobre cada sección del gráfico
                                        para ver el tiempo promedio que los candidatos permanecen en
                                        esa etapa.</p>
                                    <p class="mb-2">El promedio total en el centro representa el
                                        tiempo acumulado desde el primer contacto hasta la
                                        contratación de todas las vacantes abiertas en las fechas
                                        filtradas.</p>
                                    <p class="mb-2">Esta gráfica solo considera a candidatos que
                                        fueron contratados y refleja el promedio de duración de su
                                        proceso.</p>
                                    <p class="mb-0">Usa esta información para identificar cuellos de
                                        botella o etapas que demoran más de lo esperado.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </t>
</templates>