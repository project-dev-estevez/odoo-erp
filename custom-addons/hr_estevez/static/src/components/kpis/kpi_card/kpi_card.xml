<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="hr_estevez.KpiCard" owl="1">
        <div class="h-100">
            <!-- 100% Bootstrap utilities, igual que reclutamiento -->
            <div class="card h-100 border-1 shadow-sm bg-white text-center position-relative rounded-3"
                t-att-class="hasClick ? 'cursor-pointer' : ''"
                t-on-click="onCardClick"
                onmouseover="this.classList.replace('shadow-sm', 'shadow-lg'); this.style.transform='translateY(-0.5rem) scale(1.02)'"
                onmouseout="this.classList.replace('shadow-lg', 'shadow-sm'); this.style.transform='translateY(0) scale(1)'"
                style="transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);">
                
                <div class="card-body d-flex flex-column justify-content-center p-3 position-relative" style="min-height: 140px;">
                    <!-- Loading state -->
                    <div t-if="props.isLoading" class="d-flex justify-content-center align-items-center h-100">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                    </div>
                    
                    <!-- Content -->
                    <div t-else="" class="text-center">
                        <!-- Valor principal - aprovechando el espacio disponible -->
                        <div class="display-4 fw-bold text-primary mb-2 lh-1">
                            <t t-esc="props.value"/>
                        </div>
                        
                        <!-- Valor secundario (si estÃ¡ habilitado) -->
                        <div t-if="props.showSecondaryValue" class="text-success mb-2">
                            + <t t-esc="props.secondaryValue"/>
                        </div>
                        
                        <!-- TÃ­tulo principal -->
                        <h6 class="text-muted fw-medium text-uppercase mb-0 opacity-75" style="font-size: 0.75rem; letter-spacing: 0.5px;">
                            <t t-esc="props.name"/>
                        </h6>
                    </div>
                </div>
                
                <!-- Indicador de click (si es clickeable) -->
                <div t-if="hasClick" class="position-absolute top-0 end-0 p-2">
                    <i class="fa fa-external-link text-muted opacity-50" style="font-size: 0.75rem;"></i>
                </div>
            </div>
        </div>
    </t>
</templates>
