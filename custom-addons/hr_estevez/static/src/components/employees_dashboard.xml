<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">
    <t t-name="hr_estevez.EmployeesDashboard" owl="1">
        <div class="vh-100 overflow-auto bg-muted mb-5 pb-5">
            <div class="row m-3">
                <div class="col-lg-12">

                    <!-- Titulo y filtro -->
                    <DashboardHeader
                        title="'Dashboard de Empleados'"
                        startDate="state.startDate"
                        endDate="state.endDate"
                        onDateChange.bind="onDateChange"
                    />

                    <!-- KPIs principales -->
                    <div class="row">
                        <KpisGrid />
                    </div>

                    <!-- Gr치ficas principales -->
                    <div class="row">
                        <div class="col-lg-6 m-0 p-0">
                            <div class="shadow-sm border m-2 p-4 bg-white">
                                <DepartmentDistributionChart 
                                    startDate="state.startDate"
                                    endDate="state.endDate"
                                    height="350"
                                />
                                <h6 class="mt-3 text-center text-muted">Distribuci칩n por Departamento</h6>
                            </div>
                        </div>
                        <div class="col-lg-6 m-0 p-0">
                            <div class="shadow-sm border m-2 p-4 bg-white">
                                <ChartRendererApex config="chartsDummy[1].config" type="chartsDummy[1].type" />
                                <h6 class="mt-3 text-center text-muted">Empleados por Estado</h6>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 m-0 p-0">
                            <div class="shadow-sm border m-2 p-4 bg-white">
                                <ChartRendererApex config="chartsDummy[2].config" type="chartsDummy[2].type" />
                                <h6 class="mt-3 text-center text-muted">Contratos por Vencer (Meses)</h6>
                            </div>
                        </div>
                        <div class="col-lg-6 m-0 p-0">
                            <div class="shadow-sm border m-2 p-4 bg-white">
                                <ChartRendererApex config="chartsDummy[3].config" type="chartsDummy[3].type" />
                                <h6 class="mt-3 text-center text-muted">Cumplea침os Pr칩ximos</h6>
                            </div>
                        </div>
                    </div>


                    <!-- Loading State -->
                    <div t-if="state.loading" class="text-center p-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                        <p class="mt-2">Cargando datos del dashboard...</p>
                    </div>
                    <!-- Dashboard Content -->
                    <div t-else="" class="row mb-4">
                        <!-- ...existing code... -->
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>
